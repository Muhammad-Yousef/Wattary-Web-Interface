<!DOCTYPE html>
<html style="overflow-y:hidden;">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><!-- for internet explora-->
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- for mobile cuzes resbonsiv-->

    <title>Chat Box</title>
    
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/defult-theme.css">
    <link rel="stylesheet" href="css/media.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/hover.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="icon" type="image/30.png" href="imges/30.png">
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' >
    <script src="http://code.responsivevoice.org/responsivevoice.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.8/socket.io.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>


    <!--[if lt IE 9]>-->
    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>
    <!--<![endif]-->
    <style>
        #result {
        height: 100px;
        border: 1px solid #ccc;
        padding: 10px;
        box-shadow: 0 0 10px 0 #bbb;
        margin-bottom: 30px;
        font-size: 14px;
        line-height: 25px;
        background-color: white;
    }
    </style>
</head>
<body style="background-color: lightgray">
<div id="chat">
    <div class="container">
        <h1>Lets Chat</h1>
            <div class="msg">
                <ul class="ch1" >
                </ul>
                <ul class="ch2" >
                    <li><span></span></li>
                </ul>

            </div>
        <!--send-->
        <div class="box">
            <form action="">
                <div class="input-group">
                    <input type="text" id="msg" maxlength="40" class="form-control" placeholder="Write your message..." />
                    <div class="input-group-btn">
                        <button class="btn btn-default" onclick="startConverting()" type="button"><i class="fa fa-microphone"></i></button>
                        <button class="btn btn-default" onclick="loadXMLDoc()" type="button" ><i class="glyphicon glyphicon-send send"></i></button>
                    </div>
                </div>
            </form>
        </div>
         <div id="result"></div>

         <!--Respond code-->

        <!--<div class="box2">-->
            <!--<form action="">-->
                <!--<div class="input-group2">-->
                    <!--<input type="text" class="form-control2" placeholder="Write your message..." />-->
                    <!--<div class="input-group-btn2">-->
                        <!--<button class="btn2 btn-default" type="button"><i class="fa fa-microphone"></i></button>-->
                        <!--<button class="btn2 btn-default" type="button" ><i class="glyphicon glyphicon-send send"></i></button>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</form>-->
        <!--</div>-->
    </div>
</div>

<script type="text/javascript">
    
     var r = document.getElementById('result'),
         msg = document.getElementById('msg').val;
    

    function startConverting() {
        if ('webkitSpeechRecognition' in window) {
            var speechRecognizer = new webkitSpeechRecognition();
            speechRecognizer.continuous = false;
            speechRecognizer.interimResults = true;
            speechRecognizer.lang = 'en-IN';
            speechRecognizer.start();
            var finalTranscripts = '';
            speechRecognizer.onresult = function(event) {
                var interimTranscripts = '';
                for (var i = event.resultIndex; i < event.results.length; i++){
                    var transcript = event.results[i][0].transcript;
                    transcript.replace("\n", "<br>");
                    if (event.results[i].isFinal) {
                        finalTranscripts += transcript;
                        var speechresult = finalTranscripts;
                        console.log(speechresult);
//                        if (speechresult) {
//                            responsiveVoice.speak(speechresult, "UK English Female", {
//                                pitch: 1
//                            }, {
//                                rate: 1
//                            });
//                        }
                    } else {
                        interimTranscripts += transcript;
                    }
                }
                r.innerHTML = finalTranscripts + '<span style="color:#999">' + interimTranscripts + '</span>';
                msg.innerHTML = finalTranscripts + '<span style="color:#999">' + interimTranscripts + '</span>';

            };
            speechRecognizer.onerror = function(event) {};
        } else {
            r.innerHTML = 'Your browser is not supported.';
            msg.innerHTML = 'Your browser is not supported. If google chrome, please upgrade!';
        }
    }
    
</script>
<!--<script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>-->
<script src="js/jquery-1.12.3.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/plugin.js"></script>
<script src="js/wow.min.js"></script>
<script>new WOW().init();</script>
<script src="js/jquery.nicescroll.min.js"></script>
</body>
</html>
